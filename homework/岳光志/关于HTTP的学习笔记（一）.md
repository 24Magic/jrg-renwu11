# 关于HTTP的学习笔记（一）
## 相关简介
HTTP通常被译作“超文本传输协议”（这个译名被称为是历史上的一次重大翻译错误），严谨的译名为“超文本转移协议”，它是互联网上应用作为广泛的网络协议，也可以说，Web是建立在HTTP协议基础上通信的。
## 与HTTP关系密切的三个协议
1. **负责传输的IP协议：**其作用是把各种数据包传送给对方，且要保证确实传送到对方那里，则还需满足两个重要的条件——IP地址和MAC地址。
2. **确保可靠性的TCP协议：**TCP的作用是提供可靠的字节流服务。字节流服务是指,为了方便传输，将大块数据分割成已报文段为单位的数据包进行管理。一言以蔽之，TCP协议为了更容易传送大数据才把数据切割，而且TCP协议能够确认数据最终是否送达到对方。
3. **负责域名解析到DNS服务：**它提供域名到IP地址之间的解析服务。由于计算机擅长处理一长串数字，如域名，而用字母配合数字的表示形式来指定计算机名则更符合人类的记忆习惯。

## 各种协议与HTTP协议的关系
1. 假如我想浏览 *http://waiyy/xss/web*页面,并输入URL。
2. 通过DNS解析域名。
3. 然后再由HTTP协议生成针对目标Web服务器的HTTP请求报文。
4. 为了方便通信，TCP协议将HTTP请求报文分割成报文段，按序号分为多个报文段，并把每个报文段可靠的传个对方。
5. 再就是IP协议的职责了，搜索对方的地址，一边中转一边传送。
6. 对方再根据TCP协议，将接收到的报文段按序号以原来的顺序重组请求报文。
7. 最后就是Web服务器对请求内容的处理，这也是基于HTTP协议的。
8. 请求的处理结果也同样利用TCP/IP通信协议向用户进行回传。

## 相关概念的浅析
### TCP的“三次握手”和“四次挥手”
- “三次握手”——建立连接
  1. 客户端发送连接请求。
  2. 服务器发送授予连接。
  3. 客户端发送确认。

这“三次握手”是确保可靠的基本需要，即满足要求的最小值：最后一个确认是为了防止已经失效的连接请求报文突然又传送到了服务器，而造成错误。进行三次以上的“握手”，会造成链路资源浪费，没必要。

- “四次挥手”——释放连接。
  1. 客户端发送请求用来关闭`客户端到服务器`的数据传输。
  2. 服务器发送相关确认。
  3. 服务器发送请求用来关闭`服务器到客户端`的数据连接。
  4. 客户端发送相关确认。

  由于TCP连接是全双工的，因此每个方向都必须单独进行关闭。
  
### HTTP状态码
HTTP状态码负责表示客户端HTTP请求的返回结果、标记服务器端的处理是否正常、通知出现的错误等工作。
#### 下面简要介绍下状态码的类别及相关含义。
1. 1XX 表明接收的请求正在处理。
2. 2XX 表明请求被正常处理了。
3. 3XX 表明浏览器需要执行某些特殊的处理以正确处理请求。
4. 4XX 表明客户端是发生错误的原因所在。
5. 5XX 表明服务器本身发生错误。

`需要注意的是不少返回的状态码响应都是错误的，但用户很难觉察到这一点。比如Web应用程序内部发生错误，状态码依然返回200 OK。`

